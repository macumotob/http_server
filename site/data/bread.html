
<!--#fm-file-row-->
<div class="row">
  <div class="col-xs-12 bg-success">
    <p style="cursor:pointer"
       data-method="fm_get_file" data-args="{{encodeURI(item.name)}}"><b>{{item.name}}</b></p>

    <p style="font-size:xx-small;">
      <div class="row">
        <div class="col-xs-3">{{coba_format_bytes(item.size)}}</div>
        <div class="col-xs-3 text-success text-center" data-method="fm_get_file" data-args="{{encodeURI(item.name)}}">view</div>
        <div class="col-xs-3 text-primary text-center" 
             data-method="fm.download_file" data-args="{{encodeURI(item.name)}}">download</div>
        <div class="col-xs-3 text-primary text-center"
             data-method="fm_delete_file" 
             data-args="{{encodeURI(item.name)}}"><b>{{get_file_ext(item.name)}}</b></div>
      </div>
    </p>
  </div>
</div>
<!--#fm-folder-row-->
<div class="row">
  <div class="btn btn-primary col-xs-12 text-left"
       data-method="init_document" data-args="{{encodeURI(item.name)}}">
    {{item.name}}
  </div>
</div>

<!--#fm-list-header-->
<table class="table table-striped" style="cursor:pointer">
  <!--#fm-list-folder-body-->
  <tr class="text-primary">
    <td data-method="init_document" data-args="{{encodeURI(item.name)}}">
      <b><i>{{item.name}}</i></b>
    </td>
    <td data-method="init_document" data-args="{{encodeURI(item.name)}}">&gt;</td>
  </tr>
  <!--#fm-list-file-body-->
  <tr class="text-success">
    <td colspan="2" data-method="fm_get_file" data-args="{{encodeURI(item.name)}}">
<p><b>{{item.name}}</b></p>
      <div class="row">
        <div class="col-xs-3">{{get_file_ext(item.name)}}</div>
        <div class="col-xs-3">{{coba_format_bytes(item.size)}}</div>
        <div class="col-xs-3 text-success text-center" 
             data-method="fm_get_file" data-args="{{encodeURI(item.name)}}">view</div>
        <div class="col-xs-3 text-primary text-center"
             data-method="fm.download_file" data-args="{{encodeURI(item.name)}}">download</div>
      </div>

</td>
   <!-- <td><b>{{get_file_ext(item.name)}}</b></td>-->
  </tr>
  <!--#fm-list-footer-->
</table>

<!--#fm-popup-header-->
<table class="table table-hover">
  <thead>
    <tr><th>Перейти в папку</th></tr>
  </thead>
  <tbody>
    <!--#fm-popup-body-->
    <tr>
<td data-method="fm_refresh_by_index" data-args="{{index}}">{{decodeURI(item)}}</td>
<td>&gt;</td>
</tr>
    <!--#fm-popup-footer-->
  </tbody>
</table>

<!--#fm-bread-header-->
<table class="table table-striped">
  <tr>
    <!--#fm-bread-body-->
    {{*   var text = decodeURI(item); text = text[text.length - 1] == '/' ? text : text + '/';}}
    <td data-method="fm_refresh_by_index" data-args="{{index}}">{{text}}</td>
    <!--#fm-bread-footer-->
  </tr>
</table>
<!--#fm-create-folder-->
<form class="form-horizontal">
  <div class="form-group">
    <label for="input-folder-name">New Folder Name</label>
    <input type="text" class="form-control" id="input-folder-name" placeholder="Enter folder name">
  </div>
  <button class="btn btn-default" data-method="fm_refresh">Cancel</button>
  <button class="btn btn-success" data-method="fm_create_folder">Create</button>
</form>

<!--#fm-upload-form-->
  <div class="text-center" >Upload files to server</div>

  <input type="file"
         onchange="coba_upload_show_info();"
         id="control_upload_files" multiple style="visibility:hidden;position:absolute;top:-50px;left:-50px" />

  <table class="table">
    <tr>
      <td class="text-center text-success" onclick="control_upload_files.click();"><b>Select</b></td>
      <td class="text-center text-success" onclick="coba_upload_files();"><b>Upload</b></td>
      <td class="text-center text-success" onclick="fm_refresh();"><b>Cancel</b></td>
    </tr>
  </table>

  
    <table class="table container" id="control_progress"></table>
<!--#fm-empty-folder-->
<form class="form">
<div class="col-xs-12 text-center text-danger"><b>{{lng.ef.worning}}</b></div>
  <div class="col-xs-12 text-center">
    <p>{{lng.ef.folder}} <b>{{item}}</b> {{lng.ef.is_empty}}.</p>
      <p>{{lng.ef.can}}
      <b class="text-success" data-method="create_folder_form">{{lng.ef.create}}</b> ,
      <b class="text-success" data-method="create_upload_form">{{lng.ef.upload}}</b> {{lng.ef.or}}
      <b class="text-success" data-method="init_document" data-args="..">{{lng.ef.goback}}</b>
    </p>
  </div>
</form>

<!--#fm-video-header-->
<table class="table">
<!--#fm-video-body-->
<tr><td>
      <video id="thumb" controls preload="metadata">
        <source src="{{item.name}}">
     </video>
</td></tr>
<!--#fm-video-footer-->
</table>
<!--#fm-upload-complete-->
<div class="container">
<p class="text-primary" > Upload complete successfully</p>
<p> <b data-method="fm_refresh">Refresh folder content</b></p>
<p> <b data-method="create_upload_form">Upload More files</b></p>
</div>
<!--#fm-video-header-->

{{* fm.video.sort();}}
<div id="rot">
 <video id="video" width="320px" height="240px" preload="auto"  src="" controls="controls" onended="fm.video.next();"></video>
</div>
<div class="pre-scrollable">
  <table class="table">
    <!--#fm-video-body-->
    <tr id="tr{{index}}" data-method="fm.video.play" data-args="{{index}}"><td>{{(index+1)}}</td><td>{{item.name}}</td>
      <td class="text-right">{{coba_format_bytes(item.size)}}</td>
    </tr>
    <!--#fm-video-footer-->
  </table>
</div>
<!--#fm-audio-header-->
{{* fm.audio.sort();}}
<div id="rot">
  <audio id="audio" src="" controls="controls" onended="fm.audio.next();" ></audio>
</div>
<div class="pre-scrollable">
  <table class="table">
    <!--#fm-audio-body-->
    <tr id="tr{{index}}" data-method="fm.audio.play" data-args="{{index}}"><td>{{(index+1)}}</td><td>{{item.name}}</td>
      <td class="text-right">{{coba_format_bytes(item.size)}}</td></tr>
    <!--#fm-audio-footer-->
  </table>
</div>

<!--#fm-ext-menu-->

<table class="table">
  <tr data-method="fm.show_notes"><td class="text-primary">Заметки</td></tr>
  <tr data-method="fm.links.show"><td class="text-primary">Полезные ссылки</td></tr>
  <tr data-method="fm.show_servers"><td class="text-primary">Список серверов на www.maxbuk.com</td></tr>
  <tr data-method="fm.open_site" data-args="www.maxbuk.com"><td class="text-primary">Сайт www.maxbuk.com</td></tr>
</table>
<!--#fm-servers-header-->
<!--#fm-servers-body-->
<div class="panel panel-default" id="tr{{index}}">
  <div class="panel-heading">{{(index+1)}}. <b class="text-primary">{{item.name}}</b></div>
  <div class="panel-body">

    <span>{{item.ip}}</span>     {{item.port}} {{item.dt}}

  </div>
</div>
<!--#fm-servers-footer-->

<!--#fm-notes-header-->
 
<ul class="pager">
  <li class="previous"><a href="#" data-method="fm.show_notes_offset" data-args="-10">Prev</a></li>
  <li><a href="#" data-method="fm.show_add_note">Add</a></li>
  <li class="text-danger" id="notes-info">...</li>
  <li class="next"><a href="#" data-method="fm.show_notes_offset" data-args="10">Next</a></li>
</ul>
<!--#fm-notes-body-->
<div class="panel panel-default" id="tr{{index}}">
  <div class="panel-heading" data-method="fm.show_edit_note" data-args="{{item.id}}">{{(index+1+fm.offset)}}. <b class="text-primary">{{item.data}}</b> {{item.id}}</div>
  <div class="panel-body">
    {{item.txt}}
  </div>
</div>

<!--#fm-notes-footer-->   
<ul class="pager">
  <li class="previous"><a href="#" data-method="fm.show_notes_offset" data-args="-10">Prev</a></li>
  <li><a href="#" data-method="fm.show_add_note">Add</a></li>
  <li class="text-danger" id="notes-info">...</li>
  <li class="next"><a href="#" data-method="fm.show_notes_offset" data-args="10">Next</a></li>
</ul>


<!--#fm-add-note-header-->
<div class="panel panel-primary">
  <div class="panel-heading">Add new note</div>
  <div class="panel-body">
    <form role="form">
      <div class="form-group">
        <label for="comment">Comment:</label>
        <textarea class="form-control" rows="5" id="txt"></textarea>
      </div>
      <button type="button" class="btn btn-default" data-method="fm.show_notes">Cancel</button>
      <button type="button" class="btn btn-primary"
              data-method="fm.save_new_note">&nbsp; Save &nbsp;</button>
    </form>
</div>
  <div class="panel-footer">
  </div>
</div>

<!--#fm-add-note-body-->
<!--#fm-add-note-footer-->

<!--#fm-edit-note-header-->
<div class="panel panel-primary">
  <div class="panel-heading">Edit {{item.id}} date:{{item.data}}</div>
  <div class="panel-body">
    <form role="form">
      <div class="form-group">
        <label for="comment">Comment:</label>
        <textarea class="form-control" rows="5" id="txt" >{{item.txt}}</textarea>
      </div>
      <button type="button" class="btn btn-danger"
              data-method="fm.delete_note" data-args="{{item.id}}">Delete
      </button>
      <button type="button" class="btn btn-default" data-method="fm.show_notes">Cancel</button>
      <button type="button" class="btn btn-primary"
              data-method="fm.update_note" data-args="{{item.id}}">
        &nbsp; Save &nbsp;
      </button>
    </form>
  </div>
  <div class="panel-footer">
  </div>
</div>

<!--#fm-edit-note-body-->
<!--#fm-edit-note-footer-->

<!--#fm-mysql-error-->

<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Ошибка на сервере SQL</h4>
      </div>
      <div class="modal-body">
        <p>Код ошибки {{item.code}}  #<b>{{item.errno}}</b>.</p>
        <p class="text-danger">{{item.text}}.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>